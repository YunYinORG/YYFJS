(function(){"use strict";function e(e){return Object.keys(e).reduce(function(t,n){return t+(t&&"&")+encodeURIComponent(n)+"="+encodeURIComponent(e[n])},"")}function t(e,t,n){this.e=e||"GET",this.f="undefined"==typeof t?o.async:t,this.g="undefined"==typeof n?o.type:n}function yyf(){var e=this;return e.j=function(){4===this.readyState&&(this.status>=300?e.getHandle("error")(this):this.status>=200&&e.d(this.responseText.trim(),this))},e.d=function(t,n){var r=e.getHandle("ready");try{t=JSON.parse(t)}catch(e){}r&&false===r(t,n)||"object"!=typeof t||(o.status in t?e.getHandle(o.b[t[o.status]])(t[o.data],n):e.getHandle("error")(n,t)),r=e.getHandle("final"),r&&r(t,n)},e}function n(e,t,r){if(1==arguments.length&&e){if("string"==typeof e)return o.root=e,n;"object"!=typeof e.options&&"object"!=typeof e.handle&&"object"!=typeof e.code||(t=e.handle,r=e.code,e=e.options)}var i;for(i in e)o[i]=e[i];for(i in t)o.d[i]=t[i];for(i in r)o.c(r[i],i);return n}var o={root:"",async:true,cookie:false,type:"urlencoded",headers:{},status:"status",data:"data",a:{success:1,fail:0,auth:-1},b:{1:"success",0:"fail","-1":"auth"},c:function(e,t){t?(o.a[t]=e,o.b[e]=t):(delete o.a[o.b[e]],delete o.b[e])},d:{error:console.error,success:function(){},fail:function(){}}};t.prototype={h:function(t,n){switch(this.g.toLowerCase()){case"urlencoded":case"url":return n.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),"object"==typeof t?e(t):t;case"json":return n.setRequestHeader("Content-Type","application/json;charset=utf-8"),"object"==typeof t&&(t=JSON.stringify(t)),t;case"form":if("object"==typeof t){var o=new FormData;for(var r in t)o.append(r,t[r]);t=o}break;default:n.setRequestHeader("Content-Type",this.g)}return t},i:function(t,n,r){var i,s=this,u=new XMLHttpRequest,a=o.headers,f=o.d.before;for(i in r)r[i]&&(u[i]=r[i]);t=o.root+t,f&&(a=Object.assign({},a),i=f(n,a,t,s.e,u),void 0!==i&&(n=i)),"GET"==s.e&&n&&(t+="?"+e(n),n=null),u.open(s.e,t,s.f),n&&s.g&&(n=s.h(n,u));for(i in a)a.hasOwnProperty(i)&&u.setRequestHeader(i,a[i]);return u.withCredentials=o.cookie,u.send(n),s}},yyf.prototype={on:function(e,t){return this.d[e]=t,this},getHandle:function(e){return e?this.d[e]||o.d[e]:this.d},request:function(e,n,o,r){return new t(e,r).i(n,o,{onload:this.j,error:this.getHandle("error")}),this},delete:function(e,t){return this.request("DELETE",e,null,t)}},["get","put","post","patch"].forEach(function(e){yyf.prototype[e]=function(t,n,o){return this.request(e.toUpperCase(),t,n,o)}}),["success","fail","auth","ready","final","error"].forEach(function(e){yyf.prototype[e]=function(t){return this.on(e,t)}});for(var r in yyf.prototype)n[r]=function(e){return function(){return yyf.prototype[e].apply(new yyf,arguments)}}(r);n.config=function(){return n.apply(n,arguments)},n.setCode=function(e,t){return o.c(e,t),n},n.getHandle=function(e){return e?o.d[e]:o.d},n.setHandle=function(e,t){if(t)o.d[e]=t;else{if("object"!=typeof e)throw new Error("invalid params:"+e+t);n({handle:e})}return n},n.install=function(e,t){return e.YYF=e.prototype.$yyf=n(t)},"undefined"!=typeof window&&window.Vue?window.Vue.use(n):"undefined"!=typeof module&&"object"==typeof exports?exports=n:"function"==typeof define&&define.amd?define(function(){return n}):this.YYF=n}).call(function(){return this||("undefined"!=typeof window?window:global)}());