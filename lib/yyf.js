(function(){"use strict";function t(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}function yyf(){var t=this;return this.h=function(){4===this.readyState&&(this.status>=200&&this.status<300?t.i(this.responseText.trim(),this):t.getHandle("onerror"))},this.i=function(t,e){var n=this.getHandle("complete");try{var t=JSON.parse(t)}catch(t){}if(!n||n(t,e)&&"object"==typeof t){if(o.status in t){var r=o.b[t[o.status]];n=this.getHandle(r),t=t[o.data]}else n=this.getHandle("onerror");n(t,e)}},this}function e(t,e,n){if(1===arguments.length){if("string"==typeof t)return o.root=t,new yyf;"object"!=typeof t.options&&"object"!=typeof t.handle&&"object"!=typeof t.code||(e=t.handle,n=t.code,t=t.options)}var r;for(r in t)o[r]=t[r];for(r in e)o.handle[r]=e[r];for(r in n)o.setCode(n[r],r);return new yyf}function n(t,n){n&&e(n),t.YYF=t.prototype.$yyf=i}var o={root:"/",async:true,cookie:false,type:"urlencoded",headers:{},status:"status",data:"data",a:{success:1,fail:0,auth:-1},b:{1:"success",0:"fail","-1":"auth"},setCode:function(t,e){status_tring?(o.a[status_tring]=t,o.b[t]=status_tring):(delete o.a[o.b[t]],delete o.b[t])},handle:{auth:function(){},onerror:console.error,success:function(){},fail:function(){}}},r=function(t,e,n){this.c=t||"GET",this.d="undefined"==typeof e?o.async:e,this.e="undefined"==typeof n?o.type:n};r.prototype={f:function(e,n){switch(this.e.toLowerCase()){case"urlencoded":case"url":if(n.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),"string"==typeof e&&"{"===e[0]&&"}"===e.slice(-1))try{e=JSON.parse(e)}catch(t){}return"object"==typeof e?t(e):e;case"json":if(n.setRequestHeader("Content-Type","application/json;charset=utf-8"),"object"!=typeof e)return e;e=JSON.stringify(e);case"form":if("object"==typeof e){var o=new FormData;for(var r in e)o.append(r,d[r]);return o}return e;default:return this.e&&n.setRequestHeader("Content-Type",this.e),e}},g:function(e,n,r){var i=new XMLHttpRequest;for(var s in r)r[s]&&(i[s]=r[s]);o.root!==e[0]&&(e=o.root+e),"GET"===this.c&&n&&(e+="?"+t(n),n=null),i.open(this.c,e,this.d),n&&(n=this.f(n,i));for(s in o.headers)o.headers.hasOwnProperty(s)&&i.setRequestHeader(s,o.headers[s]);return i.withCredentials=o.cookie,i.send(n),this}},yyf.prototype={setHandle:function(t,e){return"undefined"!=typeof e?this.i[t]=e:"function"==typeof t&&(this.i=t),this},getHandle:function(t){return t?this.i[t]||o.handle[t]:this.i},request:function(t,e,n,o){return new r(e,o).g(t,n,{onload:this.h,onerror:this.getHandle("onerror")}),this},delete:function(t,e){return this.request(t,"DELETE",null,e)}},["get","put","post","patch"].forEach(function(t){yyf.prototype[t]=function(e,n,o){return this.request(e,t.toUpperCase(),n,o)}}),["success","fail","auth","complete"].forEach(function(t){yyf.prototype[t]=function(e){return this.setHandle(t,e)}});var i=e;for(var s in yyf.prototype)i[s]=function(t){return function(){return yyf.prototype[t].apply(new yyf,arguments)}}(s);i.setCode=function(t,e){return o.setCode(t,e),i},i.getHandle=function(t){return t?o.handle[t]:o.handle},"undefined"!=typeof window&&window.Vue?window.Vue.use(n):(i.install=n,"undefined"!=typeof module&&"object"==typeof exports?module.exports=i:"function"==typeof define&&define.amd?define(function(){return i}):this.YYF=i)}).call(function(){return this||("undefined"!=typeof window?window:global)}());