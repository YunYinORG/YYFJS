(function(){"use strict";function e(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function yyf(){var e=this;return this.h=function(){4===this.readyState&&(this.status>=200&&this.status<300?e.i(this.responseText.trim(),this):e.getHandle("onerror"))},this.i=function(e,t){var n=this.getHandle("complete");try{var r=JSON.parse(e)}catch(t){return void(n&&n(e))}if(!n)if(o.status in r){var i=o.b[r[o.status]];n=this.getHandle(i),r=r[o.data]}else n=this.getHandle("onerror");n&&n(r,t)},this}function t(e,t,n){if(1===arguments.length){if("string"==typeof e)return o.root=e,new yyf;"object"!=typeof e.options&&"object"!=typeof e.handle&&"object"!=typeof e.code||(t=e.handle,n=e.code,e=e.options)}var r;for(r in e)o[r]=e[r];for(r in t)o.handle[r]=t[r];for(r in n)o.setCode(r,n[r]);return new yyf}function n(e,n){n&&t(n),e.YYF=e.prototype.$yyf=i}var o={root:"/",async:true,cookie:false,type:"urlencoded",headers:{},status:"status",data:"data",a:{success:1,fail:0,auth:-1},b:{1:"success",0:"fail","-1":"auth"},setCode:function(e,t){e?(o.a[t]=e,o.b[e]=t):(delete o.a[t],delete o.b[e])},handle:{auth:function(){},success:function(){},fail:function(){},onerror:console.error}},r=function(e,t,n){this.c=e||"GET",this.d="undefined"==typeof t?o.async:t,this.e="undefined"==typeof n?o.type:n};r.prototype={f:function(t,n){switch(this.e.toLowerCase()){case"urlencoded":case"url":if(n.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),"string"==typeof t&&"{"===t[0]&&"}"===t.slice(-1))try{t=JSON.parse(t)}catch(e){}return"object"==typeof t?e(t):t;case"json":if(n.setRequestHeader("Content-Type","application/json;charset=utf-8"),"object"!=typeof t)return t;t=JSON.stringify(t);case"form":if("object"==typeof t){var o=new FormData;for(var r in t)o.append(r,d[r]);return o}return t;default:return this.e&&n.setRequestHeader("Content-Type",this.e),t}},g:function(t,n,r){var i=new XMLHttpRequest;for(var s in r)r[s]&&(i[s]=r[s]);o.root!==t[0]&&(t=o.root+t),"GET"===this.c&&n&&(t+="?"+e(n),n=null),i.open(this.c,t,this.d),n&&(n=this.f(n,i));for(s in o.headers)o.headers.hasOwnProperty(s)&&i.setRequestHeader(s,o.headers[s]);return i.withCredentials=o.cookie,i.send(n),this}},yyf.prototype={setHandle:function(e,t){return"undefined"!=typeof t?this.i[e]=t:"function"==typeof e&&(this.i=e),this},getHandle:function(e){return e?this.i[e]||o.handle[e]:this.i},request:function(e,t,n,o){return new r(t,o).g(e,n,{onload:this.h,onerror:this.getHandle("onerror")}),this},delete:function(e,t){return this.request(e,"DELETE",null,t)}},["get","put","post","patch"].forEach(function(e){yyf.prototype[e]=function(t,n,o){return this.request(t,e.toUpperCase(),n,o)}}),["success","fail","auth","complete"].forEach(function(e){yyf.prototype[e]=function(t){return this.setHandle(e,t)}});var i=t;for(var s in yyf.prototype)i[s]=function(e){return function(){return yyf.prototype[e].apply(new yyf,arguments)}}(s);i.setCode=function(e,t){return o.setCode(e,t),i},i.getHandle=function(e){return e?o.handle[e]:o.handle},"undefined"!=typeof window&&window.Vue?window.Vue.use(n):(i.install=n,"undefined"!=typeof module&&"object"==typeof exports?module.exports=i:"function"==typeof define&&define.amd?define(function(){return i}):this.YYF=i)}).call(function(){return this||("undefined"!=typeof window?window:global)}());